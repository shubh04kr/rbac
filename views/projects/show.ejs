<% layout('layouts/boilerplate.ejs') %>

<div class="container">
    <div class="card" style="width: 18rem;">
        <div class="card-body">
          <h5 class="card-title"><%= project.title  %> </h5>
          <h6 class="card-subtitle mb-2 text-muted"><%= project.pm.username  %> </h6>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <h3>Team Members</h3>
          <% for(let i =0;i<project.team.length;i++){ %> 
            <%=project.team[i].name%>
        <%}%>
          <h3>Guest Developers</h3>  
          <% for(let i=0 ;i<project.guests.length;i++){ %> 
            <%=project.guests[i].name%>
        <%}%>
        <div class="container mb-3">
            <form action="/projects/<%= project._id %>/guest" method="POST">
              <h4 class="mt-3">Add Guest Developer</h4>
              <div class="mb-3">
                <label for="username" class="form-label">Guest Developer Username</label>
                <input type="text" class="form-control" id="username" name="username" required>
              </div>
              <button class="btn btn-sm btn-success">Add Guest</button>
          </form>
        </div>
        <div class="container mb-3">
          <h4>Add Sub-Project</h4>
            <form action="/projects/<%= project._id %>/subproject?_method=PATCH" method="POST">
              <div class="mb-3">
                <label for="title" class="form-label">Sub Project Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
              </div> 
              <div class="mb-3">
                <label for="pm" class="form-label">Sub Project PM</label>
                <input type="text" class="form-control" id="pm" name="pm_username" required>
              </div> 
              <h3>Add Team Members</h3>
              <div class="mb-3">
                  <label for="mem1">Member 1</label>
                  <input type="text" name="mem1" id="team" placeholder="username">
              </div>
              <div class="mb-3">
                  <label for="mem2">Member 2</label>
                  <input type="text" name="mem2" id="team" placeholder="username">
              </div>
              <div class="mb-3">
                  <label for="mem3">Member 3</label>
                  <input type="text" name="mem3" id="team" placeholder="username">
              </div>
            
              <button class="btn btn-sm btn-success">Add SubProject</button>
            </form>
        </div>
          <form action="/projects/<%= project._id %>?_method=DELETE" method="POST"><button class="btn btn-sm btn-danger">Delete Project</button></form>

          

        </div>
      </div>

</div>